import{e as d,j as e,L as o,f as c,B as n}from"./index-B1S_F-6_.js";import{B as a}from"./Badge-C6W-SCl_.js";import{C as x}from"./Card-DAcoRpIw.js";import{g as m}from"./listingPermissions-auyDyiec.js";function p({listingId:s,isWishlisted:t,disabled:r=!1}){const{toggleWishlist:i}=d();return e.jsx("button",{onClick:()=>i(s),disabled:r,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-brand-200 hover:bg-brand-50 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Save to wishlist",children:t?"Saved":"Save"})}function f({listing:s,currentUser:t,onEdit:r,onDelete:i}){const{isOwner:l}=m(s,t);return e.jsxs(x,{className:"group overflow-hidden p-0 transition duration-300 hover:-translate-y-0.5 hover:shadow-[0_24px_36px_-20px_rgba(67,56,202,0.45)]",children:[e.jsxs(o,{to:`/listings/${s.id}`,className:"relative block overflow-hidden",children:[e.jsx("img",{src:s.images?.[0],alt:s.title,className:"h-44 w-full object-cover transition duration-500 group-hover:scale-105"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-slate-900/35 via-transparent to-transparent"}),e.jsx("div",{className:"absolute left-3 top-3",children:e.jsx(a,{label:s.condition,className:"bg-white/95 text-slate-700"})})]}),e.jsxs("div",{className:"space-y-3 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-brand-700",children:c(s.price)}),e.jsx(o,{to:`/listings/${s.id}`,className:"line-clamp-2 text-sm font-semibold text-slate-800 transition hover:text-brand-700",children:s.title})]}),!l&&t?e.jsx(p,{listingId:s.id,isWishlisted:s.isWishlisted}):null]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l?e.jsx(a,{label:"Your Listing"}):null,e.jsx(a,{label:s.type}),e.jsx(a,{label:s.status}),e.jsx("span",{className:"rounded-full bg-slate-100 px-2.5 py-1 text-xs font-semibold text-slate-600",children:s.campus})]}),l?e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(n,{variant:"secondary",size:"sm",onClick:()=>r?.(s),children:"Edit"}),e.jsx(n,{variant:"danger",size:"sm",onClick:()=>i?.(s),children:"Delete"})]}):e.jsx(o,{to:`/listings/${s.id}`,className:"inline-flex items-center text-xs font-semibold uppercase tracking-wide text-brand-700 transition hover:text-brand-800",children:"View Details"})]})]})}export{f as L,p as S};
